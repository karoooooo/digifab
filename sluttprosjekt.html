<!DOCTYPE html>
<html lang="nb">
  <head>
    <title>digiFAB - Karoline</title>
    <meta charset="UTF-8" />
    <meta
      name="description"
      content="My web page in the course 'Digital Fabrication' at Østfold University College"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="src/style.css" title="Main CSS" />
  </head>
  <body>
    <div id="grid">
      <section id="gradient">
        <header>
          <a href="index.html">
            <h1 id="header-text">digiFAB</h1>
            <img
              src="src/img/me.png"
              alt="Digital drawing of myself, made by me in 'Concepts'"
              id="my_avatar"
            />
          </a>
        </header>
        <nav>
          <h2 id="myname" onclick="hideMenu()">
            Kar
            <span class="stylized-o">o</span>
            line
          </h2>
          <ul id="nav-list">
            <li>
              <a href="index.html"> <span class="stylized-o">o</span>m </a>
            </li>
            <li>
              <a href="index.html">
                <span class="stylized-o">o</span>ppgave 1
              </a>
            </li>
            <li>
              <a href="oppg2.html">
                <span class="stylized-o">o</span>ppgave 2
              </a>
            </li>
            <li>
              <a href="oppg3.html">
                <span class="stylized-o">o</span>ppgave 3
              </a>
            </li>
            <li>
              <a href="oppg4.html">
                <span class="stylized-o">o</span>ppgave 4
              </a>
            </li>
            <li>
              <a href="sluttprosjekt.html">
                sluttpr<span class="stylized-o">o</span>sjekt
              </a>
            </li>
          </ul>
        </nav>
      </section>
      <aside>
        <nav>
          <h4>Gå til</h4>
          <ul>
            <li><a href="#why">Hvorfor?</a></li>
            <li><a href="#how">Hvordan?</a></li>
            <li><a href="#electro">Elektronikk</a></li>
            <li><a href="#laser">Laserkutting og -gravering</a></li>
            <li><a href="#3d">3D-modellering og -printing</a></li>
            <li><a href="#code">Kode</a></li>
            <li><a href="#last-words">Sluttord</a></li>
            <li><a href="#resources">Ressurser</a></li>
          </ul>
        </nav>
        <section id="timestamp">
          <p>Opprettet: 26.05.23</p>
          <p>Endret: 30.05.23</p>
        </section>
      </aside>
      <main id="projects">
        <article id="projectarticle">
          <h3>Sluttpr<span class="stylized-o">o</span>sjekt</h3>

          <section id="intro">
            <h4>Pendlerhjelp</h4>
            <p class="preamble">
              I siste oppgave i DigiFab skal vi kunne ta ibruk elektronikk og to
              digitale fabrikasjonsmetoder for å lage noe som kan bidra positivt
              med tanke på bærekraftig utvikling eller klimautfordringer og
              global oppvarming. Dette har blitt møtt med konseptet Pendlerhjelp
              som skal oppfordre brukere til å reise mer miljøvennlig og dermed
              redusere utslipp fra transportsektoren.
            </p>
          </section>
            <img class="project_img" src="" width="500px" alt="gif av prosjektet" />
          <section>
            <h4 id="why">Hvorfor?</h4>
            <p>
              Transportsektoren står for litt info om prosjektet
            </p>
            <h5>Konsept</h5>
            <p>
              Pendlerhjelp skal vise deg den beste reisemåten og belønne deg for
              å velge mijøvennlige framkomstmidler (dersom forholdene ligger til
              rette for å velge bedre...)
            </p>
            <p>Funksjonalitet:</p>
            <ul class="article-list">
              <li>
                Brukeren velger tidspunkt og sted for pendling og hvilke
                transportmetoder som er aktuelle.
              </li>
              <li>
                Enheten slås på i 2 t rundt brukerens valgte avreisetidspunkt og
                er ellers i dvale.
              </li>
              <li>
                Data hentes inn fra Yr.no og disse parameterne blir signalisert
                med fargekoder:
                <ul class="nested-list">
                  <li>temperatur</li>
                  <li>nedbør</li>
                  <li>vind</li>
                  <li>luftkvalitet</li>
                </ul>
              </li>
              <li>
                Skjermen vil si noe om hvilken transportmetode som er mest
                fordelaktig på det tidspunktet man ser på skjermen basert på
                dataene og hvor mye tid som gjenstår før brukeren skal ha nådd
                reisemålet. Disse kan konfigureres:
                <ul class="nested-list">
                  <li>buss</li>
                  <li>sykkel</li>
                  <li>gå</li>
                  <li>kjøre bil</li>
                </ul>
              </li>
              <li>
                Brukeren trykker på en av to knapper i det de forlater enheten
                og tar et valg om de vil velge det beste for miljøet og helsen.
              </li>
              <li>Belønning i form av poeng</li>
            </ul>

            <p>Utvidelsesidéer:</p>
            <ul class="article-list">
              <li>
                Sende data fra enheten til en database via WiFi
              </li>
              <li>
                Hensyn til helsefaktorer som er med på å avgjøre resultatet for
                anbefalingen. Hvis man har astma eller liknende vil det ikke gi
                like store utslag om man velger å ikke sykle eller gå. (I
                tillegg kan man gjøre valg som er bedre for egen helse. Dersom
                du har astma eller migrene? Du kan velge at på dager hvor det er
                ekstremt dårlig luftkvalitet får du ikke særlig dårlig utslag
                selv om du ikke f.eks. sykler.)
              </li>
              <li>
                Inkludere sensorer for lokale verdier (Overordnet var det også
                tenkt at sensorer kunne blitt inkludert, men det var et spørsmål
                om arbeidsmengde og hvorvidt det var relevant for reisemålet.)
              </li>
              <li>Enheten kan være solcelledrevet</li>
            </ul>
          </section>

          <section>
            <h4 id="how">Hvordan?</h4>
            <p>
              Først bestemte jeg meg for hvilken mikrokontroller jeg skulle
              bruke. Det sto mellom Arduino Uno, ESP32 og Raspberry Pi, og
              valget gikk på ESP32 fordi den har flere I/O-pins (Input/Output)
              enn Arduinoen, er mer kompakt og krever mindre strøm enn begge
              motstanderne. I tillegg kan man koble den opp til WiFi og
              Bluetooth.
            </p>
            <p>
              Jeg lagde en skisse av produktet med tablet, og bestemte meg for
              de to digitale fabrikasjonsmetodene:
            </p>
            <ul class="article-list">
              <li>3D-printing</li>
              <li>laserkutting</li>
            </ul>
            <img
              class="project_img"
              src="src/img/sp/digifab_sp_skisse.png"
              width="500px"
              alt="skisse"
            />
            <p>
              Utviklingsprosessen krevde mye iterasjon, så det var ikke en rett
              vei fram til målet. For å vite hvordan en boks skal se ut, må man
              vite hva som skal være i den...
            </p>

            <h5>1.prototype</h5>
            <p>
              Basert på skissen puttet jeg de elektroniske komponentene sammen
              og designet en 3D-modell for en boks basert på grove målinger og bilder som canvas for å plassere elementer relativt til hverandre.
            </p>
            <img
            class="project_img"
            src="src/img/sp/sp_1prototype_komponenter.jpg"
            width="500px"
            alt="1prototype"
          />
            <p>
              Eksporterte skissen og redigerte den som en vektorfil som kunne
              benyttes til laserkutting og -gravering med plexiglass. Printet boksen i PLA og prøvde grunnleggende kode som skulle teste LEDs og vise dette i samspill.
            </p>
            <img
              class="project_img"
              src="src/img/sp/sp_1prototype.jpg"
              width="500px"
              alt="1prototype"
            />
            <p>
              Basert på første prototype ville jeg gjøre et par endringer. Først
              og fremst ville jeg bytte ut skjermen som krevde veldig mange
              I/O-pins, en del strøm og kun ga 16x2 tegn, som jeg synes var litt
              for begrensende. Den var også ganske stor, så jeg ønsket å gå i en
              mer kompakt retning med produktet.
            </p>
          </section>

          <section>
            <h5 id="electro">Elektronikk</h5>
            <p>
              Alle komponentene som er tatt i bruk i siste prototype.
            </p>
            <ul class="article-list">
              <li>
                Adafruit HUZZAH32 - ESP32 Feather
                <a class="otherlinks" href="#esp32"><sup>[1]</sup></a>
              </li>
              <li>
                Adafruit 128 x 64 OLED FeatherWing
                <a class="otherlink" href="#oled"><sup>[2]</sup></a>
              </li>
              <li>FeatherWing Stacking Headers</li>
              <li>2 * mini breadboards</li>
              <li>2 * 10 kΩ-resistor</li>
              <li>12 * 220 Ω-resistorer</li>
              <li>4 RGB-LEDs</li>
              <li>2 taktile knapper</li>
              <li>2 * AA-batteripakke (3V-strømkilde)</li>
              <p>I tillegg:</p>
              <li>Kabler</li>
              <li>Krympestrømper</li>
              <li>Loddeutstyr</li>
            </ul>
            <img class="project_img" src="src/img/sp/komponenter.jpg" width="500px" alt="components" />
            <p>
              På grunn av valget mitt av breadboards kunne jeg ha en del ulike
              layouts, og prøvde meg frem med ulike løsninger med 2 og 3
              breadboards for å se hvordan jeg skulle kombinere det med batteripakken og plexiglasset. Endte opp med 2 mini breadboards og klistret dem på en 3mm plate med arkitekturpapp for å jevne ut høydeforskjeller. 
            </p>
            <img class="project_img" src="src/img/sp/esp_uten_skjerm.jpg" width="500px" alt="components" />
            <p>
              Erstattet skjermen fra første prototype med en 128x64 OLED-skjerm. Fikk hjelp med å lodde på stacking headers så OLED-skjermen kunne bli plassert på toppen av ESP32-en, som betydelig reduserte plassbehovet. FeatherWing har også 3 mini-knapper på innsiden, som jeg tenker kunne blitt brukt til konfigurasjon, men jeg trengte GPIOs for å kontrollere alle pinsene fra LEDs.
            </p>

            <p>
              Loddet fargekodede ledninger med resistorer til hver RGB-pin, og en svart ledning på katode-pin og puttet på krympestrømper. 
            </p>
            <img class="project_img" src="src/img/sp/esp32.jpg" width="500px" alt="components" />
          </section>

          <section>
            <h5 id="laser">Laserkutting og -gravering</h5>
            <p>
              Lastet opp skissen som vektorfil og redigerte den videre i Adobe Illustrator.
              For å bruke printeren må artboardet være 101 mm x 710 mm og alle linjer som skal kuttes være på 0,025 mm, mens det som skal graveres kan ha en annen tykkelse.
              Materialet jeg brukte var plexiglass på ca 3.5mm.
            </p>
            <img class="project_img" src="src/img/sp/sp_laserkutt.png" width="70px" alt="laser sketch" />
            <p>
              Oppdaget på første print at jeg fikk et par hull, fordi ikke alle strekene var i riktig tykkelse, og basert på designet av 3D-modellen så jeg at jeg hadde gjort noen feil med beregningen av avstandene mellom LEDS, noe jeg ordnet i andre omgang. Fikk også lastet opp 3D-filen som .dxf-fil til Illustrator for å sammenlikne.
            </p>
            <img class="project_img" src="src/img/sp/sp_laserresultat.jpg" width="70px" alt="laser stuff" />
            <p>
              PDF-filen ligger på Github (lenke under ressurser).
            </p>
          </section>

          <section>
            <h5 id="3d">3D-modellering og -printing</h5>
            <p>
              Den andre 3D-modellen ble basert på mer nøyaktige målinger tatt med digitalt 
              skyvelær. Den består en grunndel og et lokk. La inn skisser for komponentene i Fusion 360 fra Autodesk, og la inn parametere for målingene og prøvde å holde komponentene adskilt med gitte måleverdier. Lastet opp en SVG av det jeg skulle laserkutte slik at jeg kunne finne plasseringen av LEDS og kunne designe toppen av boksen lettere.
              Brukte "Loft" for å koble sammen det nedsenkede knappefeltet med skjermfeltet.
            </p>
            <div style="padding:75% 0 0 0;position:relative;"><iframe src="https://player.vimeo.com/video/831654160?h=3a0f1b0628&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen style="position:absolute;top:0;left:0;width:100%;height:100%;" title="3d-modell"></iframe></div><script src="https://player.vimeo.com/api/player.js"></script>
           <p>
              Printet dette med PETG på "0.20mm SPEED" med automatisk support ved 40 grader. Resultat før breadboards ble klistret sammen med arkitekturpapp og alle LEDs er skvist på plass.
            </p>
            <img class="project_img" src="src/img/sp/3d_printed.jpg" width="500px" alt="box printed" />
            <img class="project_img" src="src/img/sp/3d_sammensatt.jpg" width="500px" alt="good picture" />
            <p>
              Alt i alt ble det litt trangt til slutt, men jeg
              valgte å bruke en Dremel for å file bort litt av sideveggene slik
              at det ble plass til breadboards. Polerte så litt over slik at det
              lukket seg litt bedre. Overflaten der support-materiale var måtte files og poleres litt. Siden jeg loddet og brukte krympestrømper på
              ledningene, ble de tykkere enn jeg tenkte da jeg modellerte, siden
              jeg bare tok hensyn til selve pinsene, så jeg filte dem bredere
              med dremelen. Slapp å printe en ny del så sparte de ressursene.
            </p>
            <img class="project_img" src="src/img/sp/3d_endring.jpg" width="500px" alt="box wit led" />
            <img class="project_img" src="src/img/sp/3d_before_dremel.jpg" width="500px" alt="box before dremel" />
            <img class="project_img" src="src/img/sp/3d_after_dremel.jpg" width="500px" alt="box after dremel" />
            <p>
              En utfordring jeg gjerne skulle ha jobbet litt mer med er lokk-design, slik at   det lukker seg pent. Enda en optimalisering kunne også ha vært å se litt mer på vinkler slik at mindre support-materiale kreves for å printe det. 
            </p>

            <p>
              3mf-filen ligger på Github (lenke under ressurser).
            </p>
          </section>

          <section >
            <h5 id="code">Kode</h5>
            <p>
              Prosessen med å sette opp en ESP32:
              <ol>
                <li>
                  Laste ned Arduino IDE
                </li>
                <li>
                  Legge til libraries for ESP32 og for skjerm, repo fra Github
                </li>
                <li>
                  Velge board: ESP32 Dev Module
                </li>
                <li>
                  Velge port 
                </li>
                <li>
                  Registrere alle komponentene i koden, programmere og teste
                </li>
              </ol> 
            </p>

            <p>
              Kodens funksjonalitet ble avslutningsvis å få vist beskjeder på
              skjermen og ha lys som reagerer på knappetrykk. Jeg er fornøyd med
              å ha lagd en del funksjoner slik at gjenbruk av kode går bedre. 4 RGB-leds trenger 12 ulike variabler, så det er men del å
              holde styr på. Jeg fikk til å koble opp enheten til WiFi, men
              valgte å ikke ha dette med på koden til slutt. På grunn av loddingen var det skjørt å håndtere, som resulterte i at den øverste LED ikke kan nå B (blå) og den nederste ikke kan nå G (grønn).
            </p>
            <p>
              Det var en utfordring å få skjermen til å holde seg stabil og samtidig oppdatere verdier uten at delays kommer i veien. Til slutt fikk jeg vist startskjerm, velkomstskjerm og en klokke som endrer seg hvert minutt, dagens transportalternativ og i tillegg en negativ beskjed dersom man klikker på den røde knappen.
            </p>
            <p>
              Koden ligger på Github (lenke under ressurser).
            </p>
          </section>

          <section id="last-words">
            <h5>Sluttord</h5>
            <p>
              Produktet er langt fra ferdig, og ting kunne ha blitt gjort annerledes, men jeg er fornøyd med hvor mye jeg har lært i prosessen, og har lagt ned mye
              arbeid i utviklingen av produktet, men kanskje mest med generelt layout, og mindre med finpuss og funksjonalitet. 
            </p>
          </section>

          <section id="resources">
            <h5>Ressurser</h5>
            <a
              class="link"
              id="github-src"
              href="https://github.com/karoooooo/digifab/tree/main/src/sp"
              >Klikk her å se filene på Github</a
            >
            <a
              class="other-link"
              id="esp32"
              href="https://learn.adafruit.com/adafruit-huzzah32-esp32-feather"
              >1: Adafruit-dokumentasjon om HUZZAH32 ESP32 Feather</a
            >
            <a
              class="other-link"
              id="oled"
              href="https://learn.adafruit.com/adafruit-128x64-oled-featherwing"
              >2: Adafruit-dokumentasjon om 128x64 OLED FeatherWing</a
            >
          </section>
        </article>
      </main>
      <footer>
        <p>digiFAB - Karoline</p>
        <ul id="other-links">
          <li>
            <a href="https://github.com/karoooooo"> Github </a>
          </li>
        </ul>
        <a class="link" id="return_to_top" href="#gradient"> Return to top </a>
      </footer>
    </div>
    <script src="index.js"></script>
  </body>
</html>
